<Window x:Class="ModsAutomator.Desktop.Views.ModShellDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:conv="clr-namespace:ModsAutomator.Desktop.Services"
        SizeToContent="WidthAndHeight"
        WindowStartupLocation="CenterOwner"
        Background="Transparent"
        AllowsTransparency="True"
        WindowStyle="None"
        Width="450">
    <Window.Resources>
        <conv:BoolToOpacityConverter x:Key="BoolToOpacityConverter" />
    </Window.Resources>
    <Border Background="#1E1E1E" BorderBrush="#333" BorderThickness="1" CornerRadius="8" Padding="25">
        <StackPanel>
            <TextBlock Text="MOD IDENTITY" FontSize="11" FontWeight="Bold" Foreground="#666" Margin="0,0,0,20"/>

            <TextBlock Text="{Binding DialogTitle, FallbackValue='Register New Mod'}" 
                       FontSize="22" FontWeight="Bold" Foreground="White" Margin="0,0,0,25"/>

            <TextBlock Text="Mod Name" Foreground="#888" FontSize="12" Margin="0,0,0,8"/>
            <TextBox Text="{Binding Name, UpdateSourceTrigger=PropertyChanged}" 
                     IsEnabled="{Binding CanEditName}"
                     Background="#252525" Foreground="White" BorderBrush="#444" 
                     Padding="10,8" Margin="0,0,0,20" CaretBrush="White"
                     Opacity="{Binding CanEditName, Converter={StaticResource BoolToOpacityConverter}, FallbackValue=1}"/>

            <TextBlock Text="Root Source URL (Crawler Target)" Foreground="#888" FontSize="12" Margin="0,0,0,8"/>
            <TextBox Text="{Binding RootSourceUrl, UpdateSourceTrigger=PropertyChanged}" 
                     Background="#252525" Foreground="#2196F3" BorderBrush="#444" 
                     Padding="10,8" Margin="0,0,0,5" CaretBrush="White"/>
            <TextBlock Text="The crawler will monitor this page for new versions." 
                       Foreground="#444" FontSize="10" Margin="0,0,0,20" TextWrapping="Wrap"/>

            <TextBlock Text="Description / Notes" Foreground="#888" FontSize="12" Margin="0,0,0,8"/>
            <TextBox Text="{Binding Description, UpdateSourceTrigger=PropertyChanged}" 
                     Background="#252525" Foreground="#BBB" BorderBrush="#444" 
                     Padding="10,8" Height="80" TextWrapping="Wrap" AcceptsReturn="True" Margin="0,0,0,30"/>

            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <Button Content="Cancel" Command="{Binding CancelCommand}"
                        Background="Transparent" Foreground="#888" BorderThickness="0" Height="40"/>

                <Button Grid.Column="1" Content="Save Identity" Command="{Binding SaveCommand}"
                        Background="#3F51B5" Foreground="White" BorderThickness="0" Height="40" FontWeight="Bold">
                    <Button.Resources>
                        <Style TargetType="Border">
                            <Setter Property="CornerRadius" Value="4"/>
                        </Style>
                    </Button.Resources>
                </Button>
            </Grid>
        </StackPanel>
    </Border>
</Window>