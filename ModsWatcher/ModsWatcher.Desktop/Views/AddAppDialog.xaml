<Window x:Class="ModsWatcher.Desktop.Views.AddAppDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Register New App" 
        SizeToContent="WidthAndHeight"
        WindowStartupLocation="CenterOwner"
        Background="Transparent"
        AllowsTransparency="True"
        WindowStyle="None">

    <Grid x:Name="ModalOverlay" Background="#AA000000">
        <Border Width="500" 
                Background="{DynamicResource CardBackground}" 
                CornerRadius="12" 
                Padding="25">
            <StackPanel>
                <TextBlock Text="Application Details" 
                           FontSize="20" 
                           FontWeight="Bold" 
                           Foreground="{DynamicResource TextPrimary}" 
                           Margin="0,0,0,20"/>

                <TextBlock Text="App Name" 
                           Foreground="{DynamicResource TextSecondary}" 
                           Margin="0,0,0,5"/>
                <TextBox Text="{Binding Name, UpdateSourceTrigger=PropertyChanged, ValidatesOnDataErrors=True}" 
                         IsReadOnly="{Binding IsEditMode}" 
                         Height="35"/>

                <TextBlock Text="Description" 
                           Foreground="{DynamicResource TextSecondary}" 
                           Margin="0,15,0,5"/>
                <TextBox Text="{Binding Description}" 
                         Height="60" 
                         TextWrapping="Wrap" 
                         AcceptsReturn="True" 
                         VerticalContentAlignment="Top"/>

                <UniformGrid Columns="2" Margin="0,15,0,0">
                    <StackPanel Margin="0,0,10,0">
                        <TextBlock Text="Installed Version" 
                                   Foreground="{DynamicResource TextSecondary}" 
                                   Margin="0,0,0,5"/>
                        <TextBox Text="{Binding InstalledVersion, UpdateSourceTrigger=PropertyChanged, ValidatesOnDataErrors=True}" 
                                 Height="35"/>
                    </StackPanel>

                    <StackPanel Margin="10,0,0,0">
                        <TextBlock Text="Latest Version" 
                                   Foreground="{DynamicResource TextSecondary}" 
                                   Margin="0,0,0,5"/>
                        <TextBox Text="{Binding LatestVersion, UpdateSourceTrigger=PropertyChanged, ValidatesOnDataErrors=True}" 
                                 Height="35"/>
                    </StackPanel>
                </UniformGrid>

                <Grid Margin="0,30,0,0">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>

                    <Button Content="Cancel" 
                            Command="{Binding CancelCommand}" 
                            Style="{DynamicResource ActionIconButtonStyle}"
                            Foreground="{DynamicResource TextMuted}"/>

                    <Button Grid.Column="1" 
                            Content="Save Entity" 
                            Command="{Binding SaveCommand}" 
                            Background="{DynamicResource AccentPrimary}" 
                            Foreground="{DynamicResource TextPrimary}" 
                            Height="40"/>
                </Grid>
            </StackPanel>
        </Border>
    </Grid>
</Window>